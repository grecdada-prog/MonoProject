# Configuration Nixpacks pour Railway
# Nixpacks d√©tecte automatiquement Laravel et configure PHP + Apache

[phases.setup]
nixPkgs = ["php83", "php83Extensions.pdo", "php83Extensions.pdo_pgsql", "php83Extensions.mbstring", "php83Extensions.xml", "php83Extensions.zip", "php83Extensions.gd", "php83Extensions.redis", "nodejs_20"]

[phases.install]
cmds = [
    "composer install --no-dev --optimize-autoloader --no-interaction --prefer-dist",
    "npm ci --include=dev"
]

[phases.build]
cmds = [
    "npm run build"
]

[start]
cmd = "bash heroku-start.sh"
